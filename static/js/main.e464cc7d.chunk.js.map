{"version":3,"sources":["components/TodoList/TodoList.tsx","store/index.ts","components/TodoItem/TodoItem.tsx","api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["Option","START_LOADING","FINISH_LOADING","initialState","loading","message","store","createStore","state","action","type","composeWithDevTools","TodoItem","todo","selectUser","onChange","className","classnames","completed","checked","readOnly","title","userId","onClick","TodoList","todos","useState","search","setSearch","selected","setSelected","visibleTodos","inprogress","filter","filtredTodos","toLowerCase","includes","value","placeholder","event","target","all","map","id","API_URL","getTodos","a","fetch","response","json","getUser","users","CurrentUser","currentUser","setCurrentUser","getCurrentUser","useEffect","name","email","phone","App","selectedUserId","setSelectedUserId","setTodos","getServerTodos","child","copyChild","copy","index","findIndex","splice","sort","b","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e464cc7d.chunk.js","sourcesContent":["import React, { useState, ChangeEvent } from 'react';\nimport { TodoItem } from '../TodoItem/TodoItem';\nimport './TodoList.scss';\n\ninterface Props {\n  todos: Todo[],\n  selectUser: ((id: number) => void),\n  onChange: ((child: Todo) => void),\n}\n\nenum Option {\n  all = 'all',\n  inprogress = 'inprogress',\n  completed = 'completed',\n}\n\nexport const TodoList: React.FC<Props> = ({\n  todos,\n  selectUser,\n  onChange,\n}) => {\n  const [search, setSearch] = useState('');\n  const [selected, setSelected] = useState('all');\n\n  const filtredTodos = () => {\n    switch (selected) {\n      case Option.inprogress:\n        return todos.filter(todo => todo.completed === false);\n      case Option.completed:\n        return todos.filter(todo => todo.completed === true);\n      default:\n        return todos;\n    }\n  };\n\n  const handleInputChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setSearch(event.target.value);\n  };\n\n  const handleSelectChange = (event: ChangeEvent<HTMLSelectElement>) => {\n    setSelected(event.target.value);\n  };\n\n  const visibleTodos = filtredTodos()\n    .filter(todo => todo.title.toLowerCase().includes(search.toLowerCase()));\n\n  return (\n    <div className=\"TodoList\">\n      <h2 className=\"TodoList__title\">Todos:</h2>\n      <div className=\"TodoList__filters\">\n        <input\n          type=\"text\"\n          data-cy=\"filterByTitle\"\n          className=\"TodoList__search\"\n          value={search}\n          placeholder=\"Try to find\"\n          onChange={handleInputChange}\n        />\n\n        <select\n          value={selected}\n          className=\"TodoList__select\"\n          onChange={handleSelectChange}\n        >\n          <option value={Option.all}>All</option>\n          <option value={Option.inprogress}>In progress</option>\n          <option value={Option.completed}>Completed</option>\n        </select>\n      </div>\n\n      <div className=\"TodoList__list-container\">\n        <ul\n          className=\"TodoList__list\"\n          data-cy=\"listOfTodos\"\n        >\n          {visibleTodos.map(todo => (\n            <TodoItem\n              key={todo.id}\n              todo={todo}\n              selectUser={selectUser}\n              onChange={onChange}\n            />\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import { createStore, AnyAction } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\n// Action types - is just a constant. MUST have a unique value.\nconst START_LOADING = 'START_LOADING';\nconst FINISH_LOADING = 'FINISH_LOADING';\n\n// Action creators - a function returning an action object\nexport const startLoading = () => ({ type: START_LOADING });\nexport const finishLoading = (message = 'No message') => ({\n  type: FINISH_LOADING,\n  message,\n});\n\n// Selectors - a function receiving Redux state and returning some data from it\nexport const isLoading = (state: RootState) => state.loading;\nexport const getMessage = (state: RootState) => state.message;\n\n// Initial state\nexport type RootState = {\n  loading: boolean;\n  message: string;\n};\n\nconst initialState: RootState = {\n  loading: false,\n  message: '',\n};\n\n// rootReducer - this function is called after dispatching an action\nconst rootReducer = (state = initialState, action: AnyAction) => {\n  switch (action.type) {\n    case START_LOADING:\n      return { ...state, loading: true };\n\n    case FINISH_LOADING:\n      return {\n        ...state,\n        loading: false,\n        message: action.message,\n      };\n\n    default:\n      return state;\n  }\n};\n\n// The `store` should be passed to the <Provider store={store}> in `/src/index.tsx`\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(), // allows you to use http://extension.remotedev.io/\n);\n\nexport default store;\n","import React from 'react';\nimport classnames from 'classnames';\n\ninterface Props {\n  todo: Todo,\n  selectUser: ((id: number) => void),\n  onChange: ((child: Todo) => void),\n}\n\nexport const TodoItem: React.FC<Props> = ({\n  todo,\n  selectUser,\n  onChange,\n}) => {\n  return (\n    <li className={classnames(\n      'TodoList__item',\n      { 'TodoList__item--checked': todo.completed },\n    )}\n    >\n      <label>\n        <input\n          type=\"checkbox\"\n          checked={todo.completed}\n          onChange={() => onChange(todo)}\n          readOnly\n        />\n        <p>{todo.title}</p>\n      </label>\n      {todo.userId && (\n        <button\n          className=\"\n            TodoList__user-button\n            TodoList__user-button--selected\n            button\n          \"\n          type=\"button\"\n          data-cy=\"userButton\"\n          onClick={() => selectUser(todo.userId)}\n        >\n          User&nbsp;\n          {todo.userId}\n        </button>\n      )}\n    </li>\n  );\n};\n","const API_URL = 'https://mate.academy/students-api';\n\nexport async function getTodos() {\n  const response = await fetch(`${API_URL}/todos`);\n\n  return response.json();\n}\n\nexport async function getUser(id: number) {\n  const users = await fetch(`${API_URL}/users/${id}`);\n\n  return users.json();\n}\n","import React, { useEffect, useState } from 'react';\nimport './CurrentUser.scss';\nimport { getUser } from '../../api';\n\ninterface Props {\n  id: number,\n  selectUser: (id: number) => void;\n}\n\nexport const CurrentUser: React.FC<Props> = ({\n  id,\n  selectUser,\n}) => {\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n\n  const getCurrentUser = async (userId: number) => {\n    const response = await getUser(userId);\n\n    setCurrentUser(response);\n  };\n\n  useEffect(() => {\n    getCurrentUser(id);\n  }, [id]);\n\n  return (\n    <>\n      {currentUser && (\n        <div className=\"CurrentUser\">\n          <h2 className=\"CurrentUser__title\">\n            <span>\n              Selected user:&nbsp;\n              {id}\n            </span>\n          </h2>\n\n          <h3\n            className=\"CurrentUser__name\"\n            data-cy=\"userName\"\n          >\n            {currentUser.name}\n          </h3>\n          <p className=\"CurrentUser__email\">{currentUser.email}</p>\n          <p className=\"CurrentUser__phone\">{currentUser.phone}</p>\n        </div>\n      )}\n      <button\n        type=\"button\"\n        className=\"CurrentUser__clear button\"\n        onClick={() => selectUser(0)}\n      >\n        Clear\n      </button>\n    </>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api';\n\nimport './styles/general.scss';\nimport './App.scss';\n\nconst App: React.FC = () => {\n  const [selectedUserId, setSelectedUserId] = useState(0);\n  const [todos, setTodos] = useState<Todo[]>([]);\n\n  const onChange = (child: Todo) => {\n    const copyChild = { ...child };\n    const copy = [...todos];\n    const index = todos.findIndex(todo => todo.id === child.id);\n\n    copy.splice(index, 1);\n    copyChild.completed = !child.completed;\n    setTodos([\n      ...copy,\n      copyChild,\n    ].sort((a, b) => a.id - b.id));\n  };\n\n  const getServerTodos = async () => {\n    const response = await getTodos();\n\n    setTodos(response);\n  };\n\n  const selectUser = (id: number) => {\n    setSelectedUserId(id);\n  };\n\n  useEffect(() => {\n    getServerTodos();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        <TodoList\n          todos={todos}\n          selectUser={selectUser}\n          onChange={onChange}\n        />\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser\n              id={selectedUserId}\n              selectUser={selectUser}\n            />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport store from './store';\nimport App from './App';\n\nconst Root = () => (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}