(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var c,s=n(9),r=n.n(s),a=n(17),o=n(18),i=n(5),u=n(11),l=n(15),d="START_LOADING",j="FINISH_LOADING",p={loading:!1,message:""},b=Object(u.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case j:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,message:t.message});default:return e}}),Object(l.composeWithDevTools)()),f=b,h=n(6),O=n(13),m=n(3),x=n(4),_=n.n(x),v=n(0),g=n(16),N=n.n(g),y=n(1),C=function(e){var t=e.todo,n=e.selectUser,c=e.onChange;return Object(y.jsxs)("li",{className:N()("TodoList__item",{"TodoList__item--checked":t.completed}),children:[Object(y.jsxs)("label",{children:[Object(y.jsx)("input",{type:"checkbox",checked:t.completed,onChange:function(){return c(t)},readOnly:!0}),Object(y.jsx)("p",{children:t.title})]}),t.userId&&Object(y.jsxs)("button",{className:" TodoList__user-button TodoList__user-button--selected button ",type:"button","data-cy":"userButton",onClick:function(){return n(t.userId)},children:["User\xa0",t.userId]})]})};n(28);!function(e){e.all="all",e.inprogress="inprogress",e.completed="completed"}(c||(c={}));var T=function(e){var t=e.todos,n=e.selectUser,s=e.onChange,r=Object(v.useState)(""),a=Object(m.a)(r,2),o=a[0],i=a[1],u=Object(v.useState)("all"),l=Object(m.a)(u,2),d=l[0],j=l[1],p=function(){switch(d){case c.inprogress:return t.filter((function(e){return!1===e.completed}));case c.completed:return t.filter((function(e){return!0===e.completed}));default:return t}}().filter((function(e){return e.title.toLowerCase().includes(o.toLowerCase())}));return Object(y.jsxs)("div",{className:"TodoList",children:[Object(y.jsx)("h2",{className:"TodoList__title",children:"Todos:"}),Object(y.jsxs)("div",{className:"TodoList__filters",children:[Object(y.jsx)("input",{type:"text","data-cy":"filterByTitle",className:"TodoList__search",value:o,placeholder:"Try to find",onChange:function(e){i(e.target.value)}}),Object(y.jsxs)("select",{value:d,className:"TodoList__select",onChange:function(e){j(e.target.value)},children:[Object(y.jsx)("option",{value:c.all,children:"All"}),Object(y.jsx)("option",{value:c.inprogress,children:"In progress"}),Object(y.jsx)("option",{value:c.completed,children:"Completed"})]})]}),Object(y.jsx)("div",{className:"TodoList__list-container",children:Object(y.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:p.map((function(e){return Object(y.jsx)(C,{todo:e,selectUser:n,onChange:s},e.id)}))})})]})},L=(n(29),"https://mate.academy/students-api");function w(){return U.apply(this,arguments)}function U(){return(U=Object(h.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"/todos"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return I.apply(this,arguments)}function I(){return(I=Object(h.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"/users/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(e){var t=e.id,n=e.selectUser,c=Object(v.useState)(null),s=Object(m.a)(c,2),r=s[0],a=s[1],o=function(){var e=Object(h.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.useEffect)((function(){o(t)}),[t]),Object(y.jsxs)(y.Fragment,{children:[r&&Object(y.jsxs)("div",{className:"CurrentUser",children:[Object(y.jsx)("h2",{className:"CurrentUser__title",children:Object(y.jsxs)("span",{children:["Selected user:\xa0",t]})}),Object(y.jsx)("h3",{className:"CurrentUser__name","data-cy":"userName",children:r.name}),Object(y.jsx)("p",{className:"CurrentUser__email",children:r.email}),Object(y.jsx)("p",{className:"CurrentUser__phone",children:r.phone})]}),Object(y.jsx)("button",{type:"button",className:"CurrentUser__clear button",onClick:function(){return n(0)},children:"Clear"})]})},A=(n(30),n(31),function(){var e=Object(v.useState)(0),t=Object(m.a)(e,2),n=t[0],c=t[1],s=Object(v.useState)([]),r=Object(m.a)(s,2),a=r[0],o=r[1],u=function(){var e=Object(h.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(e){c(e)};return Object(v.useEffect)((function(){u()}),[]),Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("div",{className:"App__sidebar",children:Object(y.jsx)(T,{todos:a,selectUser:l,onChange:function(e){var t=Object(i.a)({},e),n=Object(O.a)(a),c=a.findIndex((function(t){return t.id===e.id}));n.splice(c,1),t.completed=!e.completed,o([].concat(Object(O.a)(n),[t]).sort((function(e,t){return e.id-t.id})))}})}),Object(y.jsx)("div",{className:"App__content",children:Object(y.jsx)("div",{className:"App__content-container",children:n?Object(y.jsx)(S,{id:n,selectUser:l}):"No user selected"})})]})}),B=function(){return Object(y.jsx)(a.a,{store:f,children:Object(y.jsx)(o.a,{children:Object(y.jsx)(A,{})})})};r.a.render(Object(y.jsx)(B,{}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.e464cc7d.chunk.js.map